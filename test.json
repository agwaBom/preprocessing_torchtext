{"Code":"def generate jwt service account file credentials Service Account Credentials from json keyfile name service account file now int time time payload {'iat' now 'exp' now + credentials MAX TOKEN LIFETIME SECS 'aud' 'echo endpoints sample google com' 'iss' 'jwt-client endpoints sample google com' 'sub' '12345678 ' 'email' 'user@example com'}signed jwt oauth 2 client crypt make signed jwt credentials signer payload key id credentials private key id return signed jwt","Text":"generates a signed json web token using a google api service account ."}
{"Code":"def export set dataset stream String IO if is py 3 csv csv writer stream else csv csv writer stream encoding DEFAULT ENCODING for row in dataset package dicts False csv writerow row return stream getvalue","Text":"returns csv representation of dataset ."}
{"Code":"def per cpu times ret []for user system idle interrupt dpc in cext per cpu times item scputimes user system idle interrupt dpc ret append item return ret","Text":"return system per-cpu times as a list of named tuples ."}
{"Code":"def Arg List args lparen L Paren rparen R Paren node Node syms trailer [lparen clone rparen clone ] if args node insert child 1 Node syms arglist args return node","Text":"a parenthesised argument list ."}
{"Code":"def cluster status **kwargs return ceph cfg cluster status **kwargs","Text":"get the cluster status cli example: ."}
{"Code":"def patch images new image dir pathto partial os path join new image dir if new image dir 'default' if not os path isdir new image dir raise IO Error ' Unabletofindtheusersupplieddirectory{}' format new image dir new images varname pathto filename for varname filename in image details if os path exists pathto filename globals update new images","Text":"loads custom images from the user supplied directory ."}
{"Code":"def test image logo path os path join BASE DIRECTORY 'artwork' 'logo png' assert hasattr hug output format png image logo path hug Response 'read' with open logo path 'rb' as image file assert hasattr hug output format png image image file hug Response 'read' assert hug output format png image ' Not Existent' hug Response is None class Fake Image With Save def save self to format to write 'test' assert hasattr hug output format png image Fake Image With Save hug Response 'read' class Fake Image With Render def render self return 'test'assert hug output format svg xml image Fake Image With Render hug Response 'test' class Fake Image With Save No Format def save self to to write 'test' assert hasattr hug output format png image Fake Image With Save No Format hug Response 'read'","Text":"ensure that its possible to output images with hug ."}
{"Code":"def get entrance exam score request course exam key Usage Key from string course entrance exam id exam descriptor modulestore get item exam key def inner get module descriptor '\\n Delegatetoget module for descriptor importedheretoavoidcircularreference \\n'from courseware module render import get module for descriptorfield data cache Field Data Cache [descriptor] course id request user return get module for descriptor request user request descriptor field data cache course id course course exam module generators yield dynamic descriptor descendants exam descriptor request user id inner get module exam modules [module for module in exam module generators]return calculate entrance exam score request user course exam modules","Text":"gather the set of modules which comprise the entrance exam note that request may not actually be a genuine request ."}
{"Code":"def is valid model filters model filters exclude list None for key in filters keys if exclude list and key in exclude list continuetry getattr model key except Attribute Error LOG debug \"'%s'filterkeyisnotvalid \" key return Falsereturn True","Text":"return true if filter values exist on the model ."}
{"Code":"def subtract modulo image 1 image 2 image 1 load image 2 load return image 1 new image 1 im chop subtract modulo image 2 im","Text":"subtract two images ."}
{"Code":"def nesting exception view request client Client client get '\/get view\/' raise Exception 'exceptionmessage'","Text":"a view that uses a nested client to call another view and then raises an exception ."}
{"Code":"def Check Free Space if cfg download free and not sabnzbd downloader Downloader do paused if misc diskfree cfg download dir get path < cfg download free get float \/ GIGI logging warning T ' Toolittlediskspaceforcing PAUSE' Downloader do pause save False emailer diskfull","Text":"check if enough disk space is free ."}
{"Code":"def should switch to postcopy memory iteration current data remaining previous data remaining migration status if migration status 'running post-copy ' or previous data remaining < 0 return Falseif memory iteration > 1 progress percentage round previous data remaining - current data remaining * 100 \/ previous data remaining if progress percentage < 10 return Truereturn False","Text":"determine if the migration should be switched to postcopy mode ."}
{"Code":"def pairwise iterable a b itertools tee iterable for in b breakreturn zip a b","Text":"return the items of an iterable paired with its next item ."}
{"Code":"def last visible window try return get 'last-visible-main-window' except Key Error return last focused window","Text":"get the last visible window ."}
{"Code":"def test scenarios parsing feature Feature from string FEATURE 15 scenarios and tags [ s name s tags for s in feature scenarios]scenarios and tags should equal [ ' Bootstraping Redisrole' [] ' Restartscalarizr' [] ' Rebundleserver' [u'rebundle'] ' Usenewrole' [u'rebundle'] ' Restartscalarizrafterbundling' [u'rebundle'] ' Bundlingdata' [] ' Modifyingdata' [] ' Rebootserver' [] ' Backupingdataon Master' [] ' Setupreplication' [] ' Restartscalarizrinslave' [] ' Slaveforcetermination' [] ' Slavedelete EBS' [u'ec 2 '] ' Setupreplicationfor EB Stest' [u'ec 2 '] ' Writingon Master readingon Slave' [] ' Slave-> Masterpromotion' [] ' Restartfarm' [u'restart farm'] ]","Text":"tags are parsed correctly ."}
{"Code":"def getenv key default None return environ get key default","Text":"get an environment variable ."}
{"Code":"def module exists module name try import module name except Import Error return Falseelse return True","Text":"test if a module is importable ."}
{"Code":"def click component from menu category component type is advanced if is advanced world retry on exception click advanced ignored exceptions Assertion Error link world retry on exception lambda find matching button category component type ignored exceptions Assertion Error world retry on exception lambda link click","Text":"creates a component for a category with more than one template ."}
{"Code":"def gettext noop message return message","Text":"marks strings for translation but doesnt translate them now ."}
{"Code":"def loads s key None salt 'django core signing' serializer JSON Serializer max age None base 64 d force bytes Timestamp Signer key salt salt unsign s max age max age decompress Falseif base 64 d[ 1] ' ' base 64 d base 64 d[ 1 ]decompress Truedata b64 decode base 64 d if decompress data zlib decompress data return serializer loads data","Text":"reverse of dumps() ."}
{"Code":"def headers url generator resp fuzzable req resp headers resp get headers for parser header names in URL HEADERS iteritems for header name in header names header value resp headers iget header name None if header value is not None header value smart unicode header value encoding resp charset for ref in parser resp header name header value yield ref fuzzable req resp False","Text":"yields tuples containing: * newly found url * the fuzzablerequest instance passed as parameter * the httpresponse generated by the fuzzablerequest * boolean indicating if we trust this reference or not the newly found urls are extracted from the http response headers such as \"location\" ."}
{"Code":"def in 6 6to 4 Extract Addr addr try addr inet pton socket AF INET 6 addr except return Noneif addr[ 2] '\\x 02 ' return Nonereturn inet ntop socket AF INET addr[ 2 6]","Text":"extract ipv4 address embedded in 6to4 address ."}
{"Code":"def disable curdir processing method def decorated *args **kwargs original populators PROCESS CURDI Rpopulators PROCESS CURDIR Falsetry return method *args **kwargs finally populators PROCESS CURDIR originalreturn decorated","Text":"decorator to disable processing ${curdir} variable ."}
{"Code":"def inject data image key None net None metadata None admin password None files None partition None mandatory items {'image' image 'key' key 'net' net 'metadata' metadata 'files' files 'partition' partition}LOG debug ' Injectdataimage % image skey % key snet % net smetadata % metadata sadmin password <SANITIZED>files % files spartition % partition s' items try fs vfs VFS instance for image image partition fs setup except Exception as e for inject in mandatory inject val items[inject]if inject val raise LOG warning LW ' Ignoringerrorinjectingdataintoimage% image s % e s ' {'image' image 'e' e} return Falsetry return inject data into fs fs key net metadata admin password files mandatory finally fs teardown","Text":"inject the specified items into a disk image ."}
{"Code":"def get test fname fname path os path dirname file full path os path join path 'test' fname return full path","Text":"returns test data filename ."}
{"Code":"def safe iterator node tag None if node is None return []if hasattr node 'iter' return node iter tag else return node getiterator tag","Text":"return an iterator that is compatible with python 2 ."}
{"Code":"def xy to array origin image return rgb transpose image[ -1 ]","Text":"return view of image transformed from cartesian to array origin ."}
{"Code":"def cla Model Control Disable TP Learning Cb cla Model assert isinstance cla Model CLA Model cla Model get TP Region set Parameter 'learning Mode' False return","Text":"disables learning in the cla models temporal pooler ."}
{"Code":"def wait for free port host port if not host raise Value Error \" Hostvaluesof''or Nonearenotallowed \" for trial in range 50 try check port host port timeout 0 1 except IO Error time sleep 0 1 else returnraise IO Error ' Port%rnotfreeon%r' % port host","Text":"wait for the specified port to become free ."}
{"Code":"def is true value None try value int value except Value Error Type Error passtry value float value except Value Error Type Error passif isinstance value int float return value > 0 elif isinstance value six string types return str value lower 'true' else return bool value","Text":"returns a boolean value representing the \"truth\" of the value passed ."}
{"Code":"def get demography template stream model tp dir None if tp dir is None filename sep join [builtin tpl dir model + ' par' ] else filename sep join [tp dir model + ' par' ] with open filename 'r' as f l f readline while l '' stream write l l f readline","Text":"gets a demograpy template ."}
{"Code":"def description setter registry xml parent data descriptionsetter XML Sub Element xml parent 'hudson plugins descriptionsetter Description Setter Publisher' XML Sub Element descriptionsetter 'regexp' text data get 'regexp' '' XML Sub Element descriptionsetter 'regexp For Failed' text data get 'regexp-for-failed' '' if 'description' in data XML Sub Element descriptionsetter 'description' text data['description']if 'description-for-failed' in data XML Sub Element descriptionsetter 'description For Failed' text data['description-for-failed']for matrix str data get 'set-for-matrix' False lower XML Sub Element descriptionsetter 'set For Matrix' text for matrix","Text":"yaml: description-setter this plugin sets the description for each build ."}
{"Code":"def buf to color str buf space ''pix '{{bg#{ 0 02 x}{ 1 02 x}{ 2 02 x}}}'pixels []for h in range buf shape[ 0 ] last Nonefor w in range buf shape[ 1 ] rgb buf[ h w ]if last is not None and last rgb all pixels append space else pixels append pix format *rgb last rgbpixels append '{NO COLOR}\\n' pixels[ -1 ] pixels[ -1 ] rstrip return '' join pixels","Text":"converts an rgb array to a xonsh color string ."}
{"Code":"def get exclude string client dir exclude string '--exclude deps\/*--exclude tests\/*--exclude site tests\/*'prof dir os path join client dir 'profilers' for f in os listdir prof dir if os path isdir os path join prof dir f exclude string + '--exclude profilers\/%s' % f return exclude string","Text":"get the exclude string for the tar command to exclude specific subdirectories inside client_dir ."}
{"Code":"def get user impact score user id model user models User Stats Model get user id strict False if model return model impact scoreelse return 0","Text":"gets the user impact score for the given user_id ."}
{"Code":"@loader option def undefer group loadopt name return loadopt set column strategy '*' None {'undefer group' name}","Text":"indicate that columns within the given deferred group name should be undeferred ."}
{"Code":"def main domain Noneadmin email Noneadmin password Nonedo continue 'y'print ' Google Apps Calendar Resource API Sample\\n\\n'while not domain domain raw input ' Google Appsdomain ' while not admin email admin email '%s@%s' % raw input ' Administratorusername ' domain while not admin password admin password getpass getpass ' Administratorpassword ' sample Calendar Resource Sample domain domain email admin email password admin password while do continue lower 'n' do continue call service sample","Text":"demonstrates the calendar resource api using calendarresourcesample ."}
{"Code":"def return json file request match CONTENT TYPE RE match request META['CONTENT TYPE'] if match charset match group 1 else charset settings DEFAULT CHARSE Tobj dict simplejson loads request body decode charset obj json simplejson dumps obj dict encoding charset cls Django JSON Encoder ensure ascii False response Http Response smart str obj json encoding charset status 200 mimetype 'application\/json charset ' + charset response[' Content- Disposition'] 'attachment filename testfile json'return response","Text":"a view that parses and returns a json string as a file ."}
{"Code":"def check jail None chroot None root None depends False recompute False checksum False if not any depends recompute checksum return ' Oneofdepends recompute orchecksummustbesetto True'opts ''if depends opts + 'dy'if recompute opts + 'r'if checksum opts + 's'cmd pkg jail chroot root cmd append 'check' if opts cmd append '-' + opts return salt ['cmd run'] cmd output loglevel 'trace' python shell False","Text":"sanity checks installed packages jail perform the sanity check in the specified jail cli example: ."}
{"Code":"def create formatter type *args **kwargs return ext formatter type *args **kwargs","Text":"creates a formatter of type type ."}
{"Code":"def pretty name name name name[ 0 ] upper + name[ 1 ] return name replace ' ' ''","Text":"converts first_name to first name ."}
{"Code":"def align left text length left edge ' ' right edge ' ' text length None left padding 2 if text length is None text length get text length text computed length text length + left padding + get text length left edge + get text length right edge if length - computed length > 0 padding left paddingelse padding 0output []length so far 0output append left edge length so far + len left edge output append '' * padding length so far + paddingoutput append text length so far + text lengthoutput append '' * length - length so far - len right edge output append right edge return '' join output","Text":"left align text ."}
{"Code":"def fromstring html guess charset True parser None if not isinstance html strings raise Type Error 'stringrequired' doc document fromstring html parser parser guess charset guess charset start html[ 50 ] lstrip lower if start startswith '<html' or start startswith '< doctype' return dochead find tag doc 'head' if len head return docbody find tag doc 'body' if len body 1 and not body text or not body text strip and not body[ -1 ] tail or not body[ -1 ] tail strip return body[ 0 ]if contains block level tag body body tag 'div'else body tag 'span'return body","Text":"parse the html ."}
{"Code":"@control command args [ u'task name' text t u'rate limit' text t ] signature u'<task name><rate limit e g 5\/s 5\/m 5\/h >' def rate limit state task name rate limit **kwargs try rate rate limit except Value Error as exc return nok u' Invalidratelimitstring {0 r}' format exc try state app tasks[task name] rate limit rate limitexcept Key Error logger error u' Ratelimitattemptforunknowntask%s' task name exc info True return nok u'unknowntask' state consumer reset rate limits if not rate limit logger info u' Ratelimitsdisabledfortasksoftype%s' task name return ok u'ratelimitdisabledsuccessfully' logger info u' Newratelimitfortasksoftype%s %s ' task name rate limit return ok u'newratelimitsetsuccessfully'","Text":"tell worker(s) to modify the rate limit for a task by type ."}
{"Code":"def read rle file obj header bit width debug logging count header >> 1 zero data '\\x 00 \\x 00 \\x 00 \\x 00 'width bit width + 7 \/\/ 8 data file obj read width data data + zero data[len data ] value struct unpack '<i' data [0 ]if debug logging logger debug u' Read RL Egroupwithvalue%sofbyte-width%sandcount%s' value width count for in range count yield value","Text":"read a run-length encoded run from the given fo with the given header and bit_width ."}
{"Code":"def modify user id **data models User smart get id update object data","Text":"modify user ."}
{"Code":"def instance group update context group uuid values return IMPL instance group update context group uuid values","Text":"update the attributes of an group ."}
{"Code":"def get default tempdir namer Random Name Sequence dirlist candidate tempdir list for dir in dirlist if dir os curdir dir os path abspath dir for seq in range 100 name next namer filename os path join dir name try fd os open filename bin openflags 384 try try with io open fd 'wb' closefd False as fp fp write 'blat' finally os close fd finally os unlink filename return direxcept File Exists Error passexcept Permission Error if os name 'nt' and os path isdir dir and os access dir os W OK continuebreakexcept OS Error breakraise File Not Found Error errno ENOENT ' Nousabletemporarydirectoryfoundin%s' % dirlist","Text":"calculate the default directory to use for temporary files ."}
{"Code":"def rastrigin skew individual N len individual return 10 * N + sum 10 * x if x > 0 else x ** 2 - 10 * cos 2 * pi * 10 * x if x > 0 else x for x in individual","Text":"skewed rastrigin test objective function ."}
{"Code":"@register inclusion tag 'addons\/review list box html' @jinja 2 contextfunctiondef review list box context addon reviews c dict context items c update addon addon reviews reviews return c","Text":"details page: show a box with three add-on reviews ."}
{"Code":"def check integrity models messages dict error [] warning [] for model in models validators []for name in dir model if not name startswith ' check' continueobj getattr model name if getattr obj 'validator type' None validators append obj for func in validators messages[func validator type] extend func for msg in sorted messages['error'] logger error 'E-%d %s %s %s' % msg for msg in sorted messages['warning'] logger warning 'W-%d %s %s %s' % msg","Text":"apply validation and integrity checks to a collection of bokeh models ."}
{"Code":"def init args if args backend 'webengine' from qutebrowser browser webengine import webenginesettingswebenginesettings init args else from qutebrowser browser webkit import webkitsettingswebkitsettings init args","Text":"initialize all qwebsettings ."}
{"Code":"def get ranges headervalue content length if not headervalue return Noneresult [] bytesunit byteranges headervalue split ' ' 1 for brange in byteranges split ' ' start stop [x strip for x in brange split '-' 1 ]if start if not stop stop content length - 1 start stop int start int stop if start > content length continueif stop < start return Noneresult append start stop + 1 else if not stop return Noneif int stop > content length result append 0 content length else result append content length - int stop content length return result","Text":"return a list of indices from a range header ."}
{"Code":"def do install one reg app loc relative path LOG info ' Installingappat%s' % app loc try app loc os path realpath app loc app name version desc author get app info app loc except Value Error OS Error as ex LOG error ex return Falseapp registry Hue App app name version app loc desc author if relative path app use rel path else app use abs path if reg contains app LOG warn ' %sisalreadyinstalled' % app return Truereturn reg register app and build make app app and app install conf","Text":"install one app ."}
{"Code":"def uni print statement out file None if out file is None out file sys stdouttry out file write statement except Unicode Encode Error new encoding getattr out file 'encoding' 'ascii' if new encoding is None new encoding 'ascii'new statement statement encode new encoding 'replace' decode new encoding out file write new statement out file flush","Text":"this function is used to properly write unicode to a file ."}
{"Code":"def ext pillar minion id pillar repo string options repo string strip split branch options[ 0 ]repo location options[ 1 ]root ''for extraopt in options[ 2 ] DELIM ' 'if DELIM not in extraopt log error \" Incorrectlyformattedextraparameter Missing'{ 0 }' {1 }\" format DELIM extraopt key val extract key val extraopt DELIM if key 'root' root valelse log warning ' Unrecognizedextraparameter {0 }' format key svnpil Svn Pillar branch repo location root opts branch branch 'trunk' and 'base' or branch pillar dir svnpil pillar dir log debug '[pillar roots][{ 0 }] {1 }' format branch pillar dir if opts ['pillar roots'] get branch [] [pillar dir] return {}svnpil update opts deepcopy opts opts['pillar roots'][branch] [pillar dir]pil Pillar opts grains minion id branch return pil compile pillar","Text":"execute a command and read the output as yaml ."}
{"Code":"def timeuntil value arg None from django utils timesince import timesincefrom datetime import datetimeif not value return ''if arg return timesince arg value return timesince datetime now value","Text":"formats a date as the time until that date ."}
{"Code":"def user create name password email tenant id None enabled True profile None project id None description None **connection args kstone auth profile **connection args if OS IDENTITY API VERSION > 2 if tenant id and not project id project id tenant iditem kstone users create name name password password email email project id project id enabled enabled description description else item kstone users create name name password password email email tenant id tenant id enabled enabled return user get item id profile profile **connection args","Text":"create a user cli examples: ."}
{"Code":"def getitem from frame f locals key default None try return f locals[key]except Exception return default","Text":"f_locals is not guaranteed to have ."}
{"Code":"def mark plot labels app document for name explicit in six iteritems document nametypes if not explicit continuelabelid document nameids[name]if labelid is None continuenode document ids[labelid]if node tagname in u'html only' u'latex only' for n in node if n tagname u'figure' sectname namefor c in n if c tagname u'caption' sectname c astext breaknode[u'ids'] remove labelid node[u'names'] remove name n[u'ids'] append labelid n[u'names'] append name document settings env labels[name] document settings env docname labelid sectname break","Text":"to make plots referenceable ."}
{"Code":"def render sls data saltenv 'base' sls '' **kws with warnings catch warnings record True as warn list data deserialize sls data or {} for item in warn list log warning '{warn}foundin{sls}saltenv {env}' format warn item message sls salt utils url create sls env saltenv log debug ' Resultsof SL Srendering \\n{ 0 }' format data return data","Text":"accepts yaml_ex as a string or as a file object and runs it through the yaml_ex parser ."}
{"Code":"def parse vars args result {}for arg in args if ' ' not in arg raise Value Error ' Variableassignment%rinvalid no\" \" ' % arg name value arg split ' ' 1 result[name] valuereturn result","Text":"given variables like [a=b ."}
{"Code":"def get List Table Elements list Dictionary list Dictionary Elements []for list Dictionary Value in list Dictionary values list Dictionary Elements + list Dictionary Valuereturn list Dictionary Elements","Text":"get all the element in a list table ."}
{"Code":"def get container inspect c id for co in Test Service Discovery container inspects if co get ' Id' c id return coreturn None","Text":"return a mocked container inspect dict from self ."}
{"Code":"def exists in dirname indexname None if os path exists dirname try ix open dir dirname indexname indexname return ix latest generation > -1 except Empty Index Error passreturn False","Text":"returns true if dirname contains a whoosh index ."}
{"Code":"def update doc doc from textwrap import wrapinfo table [ p plugin info p get 'description' 'nodescription' for p in available plugins if not p 'test' ]if len info table > 0 name length max [len n for n in info table] else name length 0description length WRAP LEN - 1 - name length column lengths [name length description length] format plugin info table info table column lengths for name plugin description in info table description lines wrap plugin description description length name column [name]name column extend ['' for in range len description lines - 1 ] for name description in zip name column description lines doc + '%s%s\\n' % name ljust name length description doc doc strip return doc","Text":"add a list of plugins to the module docstring ."}
{"Code":"def get paths scheme get default scheme vars None expand True if expand return expand vars scheme vars else return INSTALL SCHEMES[scheme]","Text":"returns a mapping containing an install scheme ."}
{"Code":"def is low contrast image fraction threshold 0 05 lower percentile 1 upper percentile 99 method 'linear' image np asanyarray image if image ndim 3 and image shape[ 2 ] in [3 4] image rgb 2 gray image dlimits dtype limits image clip negative False limits np percentile image [lower percentile upper percentile] ratio limits[ 1 ] - limits[ 0 ] \/ dlimits[ 1 ] - dlimits[ 0 ] return ratio < fraction threshold","Text":"detemine if an image is low contrast ."}
{"Code":"def organize states for delete base mapper states uowtransaction states to delete []for state dict mapper connection in connections for states base mapper uowtransaction states mapper dispatch before delete mapper connection state states to delete append state dict mapper bool state key connection return states to delete","Text":"make an initial pass across a set of states for delete ."}
{"Code":"def filter pathext val return os path splitext val or u'' [1 ]","Text":"extension of a path ."}
{"Code":"def get isnan dtype if isinstance dtype types Float types Complex return np isnanelse @register jitabledef trivial isnan x return Falsereturn trivial isnan","Text":"a generic isnan() function ."}
{"Code":"def paths from ls recs ret {}last nm ''level 0path []ret []for ln in recs splitlines nm val ln rstrip split ' ' barename nm lstrip this level len nm - len barename if this level 0 ret append barename level 0path []elif this level level ret append '%s\/%s' % '\/' join path barename elif this level > level path append last nm ret append '%s\/%s' % '\/' join path barename level this levelelif this level < level path path[ this level]ret append '%s\/%s' % '\/' join path barename level this levellast nm barenamereturn ret","Text":"the xenstore-ls command returns a listing that isnt terribly useful ."}
{"Code":"@requires sklearndef test gat plot nonsquared gat get data test times dict start 0 0 gat plot ax gat plot diagonal scores ax get children [1 ] get lines [2 ] get ydata assert equals len scores len gat estimators","Text":"test gat diagonal plot ."}
{"Code":"def set diff chunk generator class renderer assert rendererglobals [u' generator'] renderer","Text":"sets the diffchunkgenerator class used for generating chunks ."}
{"Code":"def get items arg items []for count bookmark in enumerate get results arg items append alp Item title bookmark title subtitle bookmark path arg bookmark path icon ' Clone Repo Icon png' return items","Text":"get a list of alfred ."}
{"Code":"def color validator optdict name value return optik ext check color None name value","Text":"validate and return a valid color for option of type color ."}
{"Code":"def script retcode container source cwd None stdin None runas None shell cmdmod DEFAULT SHELL template 'jinja' umask None timeout None reset system locale True no clean False saltenv 'base' status base status copy return script status container source source cwd cwd stdin stdin runas runas shell shell template template umask umask timeout timeout reset system locale reset system locale run func retcode no clean no clean saltenv saltenv","Text":"wrapper for :py:func:cmdmod ."}
{"Code":"def split title year title match re search u'[\\\\s ] [12 ]\\\\d{ 3 } \\\\ ?$' title if match title title[ match start ] strip year int match group 1 else year Nonereturn title year","Text":"splits title containing a year into a title ."}
{"Code":"def exit from conference id user if checking conference id if verification user id user conferences get memcached get key 'conferences' if is owner user id user delete conference id user del conferences[id]['users'][user]set memcached get key 'conferences' conferences return get new message for user user","Text":"remove user from conference if user exited from conference ."}
{"Code":"def Rot L 64 x N return np left shift x N & 63 dtype np uint 64 np right shift x 64 - N & 63 dtype np uint 64","Text":"return x rotated left by n ."}
{"Code":"def file Open Dlg try File Path '' try File Name '' prompt translate ' Selectfile s toopen' allowed None if allowed is None allowed ' Psycho Py Data * psydat * psydat txt * txt * dlm * csv * txt * dlm * csv pickledfiles * pickle * pkl * pickle shelvedfiles * shelf * shelf Allfiles * * * *'global appapp ensure Wx App dlg wx File Dialog None prompt try File Path try File Name allowed wx OPEN wx FILE MUST EXIST wx MULTIPLE if dlg Show Modal OK full Paths dlg Get Paths else full Paths Nonedlg Destroy return full Paths","Text":"a simple dialogue allowing read access to the file system ."}
{"Code":"def endit end clock total end - START print ' Completiontime {0 }seconds ' format total","Text":"times how long it took for this script to run ."}
{"Code":"def hadoop prefix from bin hadoop bin if '\/' not in hadoop bin hadoop bin which hadoop bin if not hadoop bin return Nonehadoop home posixpath abspath posixpath join posixpath realpath posixpath dirname hadoop bin ' ' if hadoop home in BAD HADOOP HOMES return Nonereturn hadoop home","Text":"given a path to the hadoop binary ."}
{"Code":"def nginx restart nginx ctl nginx conf '\/etc\/nginx conf' try proc subprocess Popen [nginx ctl '-c' nginx conf '-s' 'reload'] stdout subprocess PIPE stderr subprocess PIPE stdout stderr proc communicate if proc returncode 0 nginx proc subprocess Popen [nginx ctl '-c' nginx conf] stdout subprocess PIPE stderr subprocess PIPE stdout stderr nginx proc communicate if nginx proc returncode 0 raise errors Misconfiguration Error 'nginxrestartfailed \\n%s\\n%s' % stdout stderr except OS Error Value Error raise errors Misconfiguration Error 'nginxrestartfailed' time sleep 1","Text":"restarts the nginx server ."}
{"Code":"def iter Services xrd tree xrd get Yadis XRD xrd tree return prio Sort xrd findall service tag","Text":"return an iterable over the service elements in the yadis xrd sorted by priority ."}
{"Code":"def render report form start str end str start letter end letter report type total count error False date fmt error False context {'total count error' total count error 'date fmt error' date fmt error 'start date' start str 'end date' end str 'start letter' start letter 'end letter' end letter 'requested report' report type}return render to response 'shoppingcart\/download report html' context","Text":"helper function that renders the purchase form ."}
{"Code":"def team status return s3 rest controller","Text":"team statuses ."}
{"Code":"def print Result address hostname if address sys stdout write address + '\\n' else sys stderr write 'ERROR No I Paddressesfoundforname%r\\n' % hostname","Text":"print the ip address or an error message if an ip address was not found ."}
{"Code":"def load extra data backend details response uid user social user None *args **kwargs social user social user or User Social Auth get social auth backend name uid user if social user extra data backend extra data user uid response details if kwargs get 'original email' and 'email' not in extra data extra data['email'] kwargs get 'original email' if extra data and social user extra data extra data if social user extra data social user extra data update extra data else social user extra data extra datasocial user save return {'social user' social user}","Text":"load extra data from provider and store it on current usersocialauth extra_data field ."}
{"Code":"def toposort deps nodes None seen None stack None depth 0 deps deps copy for k v in list deps items for k in v if k not in deps deps[k] []if nodes is None rem set for dep in deps values rem set dep nodes set deps keys - rem if seen is None seen set stack []sorted []for n in nodes if n in stack raise Exception ' Cyclicdependencydetected' stack + [n] if n in seen continueseen add n sorted extend toposort deps deps[n] seen stack + [n] depth depth + 1 sorted append n return sorted","Text":"topological sort ."}
{"Code":"def get Carving file Name '' carving SVG Carving carving parse SVG file Name archive get File Text file Name return carving","Text":"get the triangle mesh for the gts file ."}
{"Code":"def distro release info return distro distro release info","Text":"return a dictionary containing key-value pairs for the information items from the distro release file data source of the current linux distribution ."}
{"Code":"def send Msg osc Address data Array [] ip Addr '127 0 0 1' port 9000 typehint None with osc Lock out Socket sendto create Binary Msg osc Address data Array typehint ip Addr port","Text":"create and send normal osc msgs defaults to 127 ."}
{"Code":"def test Ellipse 2 D circular amplitude 7 5radius 10 size radius * 2 + 1 y x np mgrid[ 0 size 0 size]ellipse models Ellipse 2 D amplitude radius radius radius radius theta 0 x y disk models Disk 2 D amplitude radius radius radius x y assert np all ellipse disk","Text":"test that circular ellipse2d agrees with disk2d [3736] ."}
{"Code":"def get File Text file Name read Mode 'r' print Warning True try file open file Name read Mode file Text file read file close return file Textexcept IO Error if print Warning print ' Thefile' + file Name + 'doesnotexist ' return ''","Text":"get the entire text of a file ."}
{"Code":"def list certs keychain '\/ Library\/ Keychains\/ System keychain' cmd 'securityfind-certificate-a{ 0 } grep-o\"alis\" *\\\\\" grep-o\\'\\\\\"[-A- Za-z 0 - 9 ]*\\\\\"\\'' format quote keychain out salt ['cmd run'] cmd python shell True return out replace '\"' '' split '\\n'","Text":"list all of the installed certificates keychain the keychain to install the certificate to ."}
{"Code":"def retrieve device config return salt ['snmp config']","Text":"retrieves the snmp config from the device ."}
{"Code":"def Get Stdout cmdlist job subprocess Popen cmdlist stdout subprocess PIPE out job communicate [0 ]if job returncode 0 sys stderr write out + '\\n' raise Gyp Error ' Error%drunning%s' % job returncode cmdlist[ 0 ] return out rstrip '\\n'","Text":"returns the content of standard output returned by invoking |cmdlist| ."}
{"Code":"def wait until running instance with start action action type u'flocker provision aws wait until running' instance id instance id as context poll while lambda node is booting instance repeat 1 INSTANCE TIMEOUT context add success fields instance state instance state context add success fields instance state reason instance state reason if instance state u'running' raise Failed To Run instance state reason","Text":"wait until a instance is running ."}
{"Code":"def wait until name state timeout 300 start time time time node show instance name call 'action' while True if node['state'] state return Truetime sleep 1 if time time - start time > timeout return Falsenode show instance name call 'action'","Text":"wait until a specific state has been reached on a node ."}
{"Code":"@then u'weseedatabasedropped' def step see db dropped context expect exact context u'DROPDATABASE' timeout 2","Text":"wait to see drop database output ."}
{"Code":"def rehash Password password hash Parameters try digestname iterations salt hash Parameters split Delimiter except Value Error raise Value Error u\" Expectedhashparametersstringinformat'digestmod{ 0 }iterations{ 0 }salt\" format Delimiter if digestname not in Hashes keys raise Value Error u\" Unsupportedhashalgorithm'{ 0 }'forhashparameters'{ 1 }' \" format digestname hash iterations int iterations salt base 64 b64 decode salt encode u'ascii' password password encode u'utf- 8 ' return pbkdf 2 password salt iterations Hashes[digestname]","Text":"module function to recreate a password hash given the hash parameters ."}
{"Code":"def flatten struct if struct is None return []flat []if isinstance struct dict for result in six iteritems struct flat + flatten result return flatif isinstance struct six string types return [struct]try iterator iter struct except Type Error return [struct]for result in iterator flat + flatten result return flat","Text":"creates a flat list of all all items in structured output : ."}
{"Code":"def test attribute access can compile u' foobarbaz ' can compile u' foo[bar]baz ' can compile u' foobar[baz][ 0 ]quux[frob] ' can compile u' foobar[ +1234 ]quux[frob] ' cant compile u' foobar baz[ 0 ]quux[frob] ' cant compile u' foobarbaz 0 quux[frob] ' cant compile u' foobarbaz[ 0 ]quux{frob} '","Text":"ensure attribute access compiles correctly ."}
{"Code":"def format List Lines msgs i 0for size in msgs i + 1 yield '%d%d\\r\\n' % i size","Text":"format a list of message sizes appropriately for the lines of a list response ."}
{"Code":"def is protected type obj return isinstance obj six integer types + type None float Decimal datetime datetime datetime date datetime time","Text":"determine if the object instance is of a protected type ."}
{"Code":"def total seconds td return td microseconds + td seconds + td days * 24 * 3600 * 10 ** 6 \/ 10 ** 6","Text":"takes a timedelta and returns the total number of seconds represented by the object ."}
{"Code":"def bytes to json value if isinstance value bytes value base 64 encodestring value return value","Text":"coerce value to an json-compatible representation ."}
{"Code":"def batch flatten x x tf reshape x stack [ -1 prod shape x [1 ] ] return x","Text":"turn a n-d tensor into a 2d tensor where the first dimension is conserved ."}
{"Code":"def yum install args package manager 'yum' sudo False return from args sudo [package manager 'install' '-y'] + args","Text":"install a package with yum or a yum-like package manager ."}
{"Code":"def get new otu id old otu id tree dissim create tip index tree cache tip names tree node tree tip index[old otu id]distance up tree 0while not node is Root and distance up tree + node Length < dissim distance up tree + node Lengthnode node Parentif node is Tip return node Nameelse return choice node tip names","Text":"simulates an otu switching to related one input a tipname ."}
{"Code":"def get pending computer name current get computer name pending salt ['reg read value'] 'HKLM' 'SYSTEM\\\\ Current Control Set\\\\ Services\\\\ Tcpip\\\\ Parameters' 'NV Hostname' ['vdata']if pending return pending if pending current else None return False","Text":"get a pending computer name ."}
{"Code":"def generate prototypes from src src text src text collapse braces strip src text prototype pattern re compile prototype re M re S function pattern re compile function re M re S prototypes prototype pattern findall src text functions function pattern findall src text declared prototypes list map sanitize prototype prototypes all prototypes list map sanitize prototype functions for declared prototype in declared prototypes if declared prototype in all prototypes all prototypes remove declared prototype all prototypes sorted set all prototypes key all prototypes index return all prototypes","Text":"generate prototypes for all functions of a given source code ."}
{"Code":"def ctl cmd cmd name conf file bin env ret [ get supervisorctl bin bin env ]if conf file is not None ret + ['-c' conf file]ret append cmd if name ret append name return ret","Text":"return the command list to use ."}
{"Code":"def execute sample package activity try package activity '%s\/%s' % package activity args ['\/system\/bin\/sh' '\/system\/bin\/am' 'start' '-n' package activity]output subprocess check output args except subprocess Called Process Error as e log error ' Errorexecutingpackageactivity %r' e returnlog info ' Executedpackageactivity %r' output","Text":"execute the sample on the emulator via adb ."}
{"Code":"def git diff names only left right 'HEAD' diff cmd GIT CMD DIFF NAMES ONLY FORMAT STRING % left right return run cmd diff cmd splitlines","Text":"get names of changed files from git ."}
{"Code":"def get Bounding Box By Paths element Node transformed Paths element Node xml Object get Transformed Paths maximum euclidean get Maximum By Vector 3 Paths transformed Paths minimum euclidean get Minimum By Vector 3 Paths transformed Paths return [minimum maximum]","Text":"get bounding box of the transformed paths of the xmlobject of the elementnode ."}
{"Code":"def get svc alias ret {}for d in AVAIL SVR DIRS for el in glob glob os path join d '*' if not os path islink el continuepsvc os readlink el if not os path isabs psvc psvc os path join d psvc nsvc os path basename psvc if nsvc not in ret ret[nsvc] []ret[nsvc] append el return ret","Text":"returns the list of services name that are aliased and their alias path(s) ."}
{"Code":"def virtual if not HAS ELASTICSEARCH return False ' Cannotloadmoduleelasticsearch elasticsearchlibrariesnotfound' return True","Text":"only load if elasticsearch libraries exist ."}
{"Code":"def escape html text table escape html table return text translate table","Text":"escape & ."}
{"Code":"@api versions wraps '2 24 ' @utils arg 'server' metavar '<server>' help ' Nameor I Dofserver ' @utils arg 'migration' metavar '<migration>' help 'I Dofmigration ' def do live migration abort cs args server find server cs args server cs server migrations live migration abort server args migration","Text":"abort an on-going live migration ."}
{"Code":"def tamper payload **kwargs ret Val payloadif payload ret Val ''i 0while i < len payload if payload[i] '%' and i < len payload - 2 and payload[ i + 1 i + 2 ] in string hexdigits and payload[ i + 2 i + 3 ] in string hexdigits ret Val + '%% 25 %s' % payload[ i + 1 i + 3 ] i + 3else ret Val + '%% 25 % 2X' % ord payload[i] i + 1return ret Val","Text":"double url-encodes all characters in a given payload notes: * useful to bypass some weak web application firewalls that do not double url-decode the request before processing it through their ruleset ."}
{"Code":"@functools wraps linecache getlines def getlines filename module globals None warn '`I Python utils ulinecache getlines`isdeprecatedsince I Python 6 0andwillberemovedinfutureversions ' Deprecation Warning stacklevel 2 return linecache getlines filename module globals module globals","Text":"deprecated since ipython 6 ."}
{"Code":"def set policy table 'filter' chain None policy None family 'ipv 4 ' if not chain return ' Error Chainneedstobespecified'if not policy return ' Error Policyneedstobespecified'wait '--wait' if has option '--wait' family else '' cmd '{ 0 }{ 1 }-t{ 2 }-P{ 3 }{ 4 }' format iptables cmd family wait table chain policy out salt ['cmd run'] cmd return out","Text":"set the current policy for the specified table\/chain cli example: ."}
{"Code":"def update stylesheet obj get stylesheet cache clear if not sip isdeleted obj obj set Style Sheet get stylesheet obj STYLESHEET","Text":"update the stylesheet for obj ."}
{"Code":"def sdb delete uri opts if not isinstance uri string types return Falseif not uri startswith 'sdb \/\/' return Falsesdlen len 'sdb \/\/' indx uri find '\/' sdlen if indx -1 or len uri[ indx + 1 ] 0 return Falseprofile opts get uri[sdlen indx] {} if not profile profile opts get 'pillar' {} get uri[sdlen indx] {} if 'driver' not in profile return Falsefun '{ 0 } delete' format profile['driver'] query uri[ indx + 1 ]loaded db salt loader sdb opts fun return loaded db[fun] query profile profile","Text":"delete a value from a db ."}
{"Code":"def Trimmed Mean t p 0 01 t Trim t p return Mean t","Text":"computes the trimmed mean of a sequence of numbers ."}
{"Code":"def build agg tooltip hover text None agg text None aggregated col None if hover text is None if agg text is None if isinstance aggregated col str hover text aggregated colelse hover text 'value'else hover text agg textif isinstance aggregated col str hover text '%sof%s' % hover text aggregated col return hover text title '@values'","Text":"produce a consistent tooltip based on available chart configuration ."}
{"Code":"def invert colors clip maxi 1 0 if clip ismask else 255 return clip fl image lambda f maxi - f","Text":"returns the color-inversed clip ."}
{"Code":"def summary urls resource url filters links {}get vars S3 URL Query parse url url get vars pop 't' None get vars pop 'w' None get vars update filters list vars []for k v in get vars items if v is None continuevalues v if type v is list else [v] for value in values if value is not None list vars append k value base url url split '?' 1 [0 ]summary config S3 Summary get config resource tab idx 0for section in summary config if section get 'common' continuetab vars list vars + [ 't' str tab idx ] links[section['name']] '%s?%s' % base url urlencode tab vars tab idx + 1return links","Text":"helper to get urls for summary tabs to use as actions for a saved filter ."}
{"Code":"def transitive closure graph reflexive False if reflexive base set lambda k set [k] else base set lambda k set agenda graph dict k graph[k] copy for k in graph closure graph dict k base set k for k in graph for i in graph agenda agenda graph[i]closure closure graph[i]while agenda j agenda pop closure add j closure closure graph setdefault j base set j agenda agenda graph get j base set j agenda - closurereturn closure graph","Text":"calculate the transitive closure of a directed graph ."}
{"Code":"def CDLEVENINGSTAR bar Ds count penetration -4 e+ 37 return call talib with ohlc bar Ds count talib CDLEVENINGSTAR penetration","Text":"evening star ."}
{"Code":"def get Geometry Output By Negatives Positives derivation negatives positives xml Element interpolation Offset derivation interpolation Dictionary['offset']positive Output trianglemesh get Unified Output positives if len negatives < 1 return get Geometry Output By Offset positive Output interpolation Offset xml Element if len positives < 1 negative Output trianglemesh get Unified Output negatives return get Geometry Output By Offset negative Output interpolation Offset xml Element return get Geometry Output By Offset {'difference' {'shapes' [positive Output] + negatives }} interpolation Offset xml Element","Text":"get triangle mesh from derivation ."}
{"Code":"def list stringify inlist outlist []for item in inlist if not isinstance item tuple list if not isinstance item basestring item str item else item list stringify item outlist append item return outlist","Text":"recursively rebuilds a list - making sure all the members are strings ."}
{"Code":"def test interpolation Chart chart Chart interpolate 'cubic' chart add '1 ' [1 3 12 3 4] chart add '2 ' [7 -4 10 None 8 3 1] q chart render pyquery assert len q ' legend' 2","Text":"test interpolation option ."}
{"Code":"def Get Feeds client feed service client Get Service ' Feed Service' 'v 201607 ' feeds []more pages Trueselector {'fields' [' Id' ' Name' ' Attributes'] 'predicates' [{'field' ' Origin' 'operator' 'EQUALS' 'values' ['USER']} {'field' ' Feed Status' 'operator' 'EQUALS' 'values' ['ENABLED']}] 'paging' {'start Index' 0 'number Results' PAGE SIZE}}while more pages page feed service get selector if 'entries' in page feeds extend page['entries'] selector['paging']['start Index'] + PAGE SIZ Emore pages selector['paging']['start Index'] < int page['total Num Entries'] return feeds","Text":"returns a list of all enabled feeds ."}
{"Code":"def pchip interpolate xi yi x der 0 axis 0 P Pchip Interpolator xi yi axis axis if der 0 return P x elif isscalar der return P derivative der x else return [P derivative nu x for nu in der]","Text":"convenience function for pchip interpolation ."}
{"Code":"def setup hass instance emulated hue config hass get test home assistant run coroutine threadsafe core components async setup hass {core DOMAIN {}} hass loop result bootstrap setup component hass http DOMAIN {http DOMAIN {http CONF SERVER PORT HTTP SERVER PORT}} bootstrap setup component hass emulated hue DOMAIN emulated hue config return hass","Text":"set up the home assistant instance to test ."}
{"Code":"def main module Ansible Module argument spec {'table' {'required' True} 'record' {'required' True} 'col' {'required' True} 'key' {'required' True} 'value' {'required' True} 'timeout' {'default' 5 'type' 'int'}} supports check mode True params set module","Text":"entry point for ansible module ."}
{"Code":"def image meta system metadata image meta {}for md key md value in system metadata iteritems if md key startswith 'image ' image meta[md key[ 6 ]] md valuereturn image meta","Text":"format image metadata for use in notifications from the instance system metadata ."}
{"Code":"def check valid naming pattern None multi None if pattern is None pattern sickbeard NAMING PATTER Nlogger log u' Checkingwhetherthepattern' + pattern + 'isvalidforasingleepisode' logger DEBUG valid validate name pattern None if multi is not None logger log u' Checkingwhetherthepattern' + pattern + 'isvalidforamultiepisode' logger DEBUG valid valid and validate name pattern multi return valid","Text":"checks if the name is can be parsed back to its original form for both single and multi episodes ."}
{"Code":"def is empty G return not any G adj values","Text":"returns true if g has no edges ."}
{"Code":"def trim line line column 0 line line strip u'\\n' ll len line if ll < 150 return lineif column > ll column llstart max column - 60 0 if start < 5 start 0end min start + 140 ll if end > ll - 5 end llif end ll start max end - 140 0 line line[start end]if end < ll line + u'{snip}'if start > 0 line u'{snip}' + line return line","Text":"trims a line down to a goal of 140 characters ."}
{"Code":"@login required@require POS Tdef reply request document slug thread id doc get document document slug request form Reply Form request POST post preview Noneif form is valid thread get object or 404 Thread pk thread id document doc if not thread is locked reply form save commit False reply thread threadreply creator request userif 'preview' in request POST post preview reply elif not is ratelimited request reply save statsd incr 'kbforums reply' if Setting get for user request user 'kbforums watch after reply' New Post Event notify request user thread New Post Event reply fire exclude reply creator return Http Response Redirect reply get absolute url return posts request document slug thread id form post preview","Text":"reply to a thread ."}
{"Code":"def grubbs timeseries series scipy array [x[ 1 ] for x in timeseries] std Dev scipy std series mean np mean series tail average tail avg timeseries z score tail average - mean \/ std Dev len series len series threshold scipy stats t isf 0 05 \/ 2 * len series len series - 2 threshold squared threshold * threshold grubbs score len series - 1 \/ np sqrt len series * np sqrt threshold squared \/ len series - 2 + threshold squared return z score > grubbs score","Text":"a timeseries is anomalous if the z score is greater than the grubbs score ."}
{"Code":"def add resource manager extra kwargs hook f hook if not hasattr f 'resource manager kwargs hooks' f resource manager kwargs hooks []names [h name for h in f resource manager kwargs hooks]if hook name not in names f resource manager kwargs hooks append hook","Text":"adds hook to bind cli arguments to resourcemanager calls ."}
{"Code":"def backends user return user backends data user get helper 'AUTHENTICATION BACKENDS' module member get helper 'STORAGE'","Text":"load social auth current user data to context under the key backends ."}
{"Code":"@treeio login requireddef ajax ticket lookup request response format 'html' tickets []if request GET and 'term' in request GET tickets Ticket objects filter name icontains request GET['term'] [ 10 ]return render to response 'services\/ajax ticket lookup' {'tickets' tickets} context instance Request Context request response format response format","Text":"returns a list of matching tickets ."}
{"Code":"def get fragments coord frags if not frags return []init [0 ]return reduce lambda acc frag acc + [ acc[ -1 ] + len frag ] frags[ -1 ] init","Text":"returns the letter coordinate of the given list of fragments ."}
{"Code":"@then u'thecommandoutputshouldnotcontain\"{text}\"' def step command output should not contain text context text expected text textif '{ WORKDIR }' in text or '{ CWD }' in text expected text textutil template substitute text WORKDIR posixpath normpath context workdir CWD posixpath normpath os getcwd actual output context command result outputwith on assert failed print details actual output expected text textutil assert normtext should not contain actual output expected text","Text":"example: then the command output should not contain \"text\" ."}
{"Code":"def history remove completed logging info ' Scheduledremovalofallcompletedjobs' history db History DB history db remove completed history db close del history db","Text":"remove all completed jobs from history ."}
{"Code":"def getregentry return registry 'latex'","Text":"encodings module api ."}
{"Code":"def reboot name call None if call 'action' raise Salt Cloud System Exit ' Thestopactionmustbecalledwith-aor--action ' log info ' Rebootingnode{ 0 }' format name instance id get node name [' Instance Id']params {' Action' ' Reboot Instance' ' Instance Id' instance id}result query params return result","Text":"reboot a node cli examples: ."}
{"Code":"def filter thing 2 x return x thing 2","Text":"a filter to apply to the results of a relationship query returns the object of the relationship ."}
{"Code":"def get public key ssh conf path os path expanduser '~\/ ssh' dsa public key path os path join ssh conf path 'id dsa pub' dsa private key path os path join ssh conf path 'id dsa' rsa public key path os path join ssh conf path 'id rsa pub' rsa private key path os path join ssh conf path 'id rsa' has dsa keypair os path isfile dsa public key path and os path isfile dsa private key path has rsa keypair os path isfile rsa public key path and os path isfile rsa private key path if has dsa keypair logging info 'DS Akeypairfound usingit' public key path dsa public key pathelif has rsa keypair logging info 'RS Akeypairfound usingit' public key path rsa public key pathelse logging info ' Neither RS Anor DS Akeypairfound creating DS Asshkeypair' utils system 'ssh-keygen-tdsa-q-N\"\"-f%s' % dsa private key path public key path dsa public key pathpublic key open public key path 'r' public key str public key read public key close return public key str","Text":"return a valid string ssh public key for the user executing autoserv or autotest ."}
{"Code":"def implicit multiplication result local dict global dict for step in group parentheses implicit multiplication apply functions implicit multiplication result step result local dict global dict result flatten result return result","Text":"makes the multiplication operator optional in most cases ."}
{"Code":"def redirect url status '301 Moved Permanently' newloc urlparse urljoin context home + context path url context status statusheader ' Content- Type' 'text\/html' header ' Location' newloc","Text":"returns a status redirect to the new url ."}
{"Code":"def is prerelease vers normalized version suggest normalized version vers if normalized is None return Trueparsed version normalized key normalized return any [any [ y in set ['a' 'b' 'c' 'rc' 'dev'] for y in x] for x in parsed]","Text":"attempt to determine if this is a pre-release using pep386\/pep426 rules ."}
{"Code":"def test cnot commutators assert Commutator CNOT 0 1 Z 0 doit 0 assert Commutator CNOT 0 1 T 0 doit 0 assert Commutator CNOT 0 1 S 0 doit 0 assert Commutator CNOT 0 1 X 1 doit 0 assert Commutator CNOT 0 1 CNOT 0 1 doit 0 assert Commutator CNOT 0 1 CNOT 0 2 doit 0 assert Commutator CNOT 0 2 CNOT 0 1 doit 0 assert Commutator CNOT 1 2 CNOT 1 0 doit 0","Text":"test commutators of involving cnot gates ."}
{"Code":"def get unique variable name candidates tf get collection tf Graph Keys GLOBAL VARIABLES name if not candidates raise Value Error ' Couldntfindvariable%s' % name for candidate in candidates if candidate op name name return candidateraise Value Error ' Variable%sdoesnotuniquelyidentifyavariable' name","Text":"gets the variable uniquely identified by that name ."}
{"Code":"def set time time time format get date time format time dt obj datetime strptime time time format cmd 'systemsetup-settime{ 0 }' format dt obj strftime '%H %M %S' return salt utils mac utils execute return success cmd","Text":"sets the current time ."}
{"Code":"def housing type return s3 rest controller","Text":"housing types: restful crud controller ."}
{"Code":"@addon view@non atomic requestsdef usage breakdown series request addon group start end format field date range check series params or 404 group start end format check stats permission request addon fields {'applications' 'apps' 'locales' 'locales' 'oses' 'os' 'versions' 'versions' 'statuses' 'status'}series get series Update Count source fields[field] addon addon id date range date range if field 'locales' series process locales series if format 'csv' if field 'applications' series flatten applications series series fields csv fields series return render csv request addon series ['date' 'count'] + list fields elif format 'json' return render json request addon series","Text":"generate adu breakdown of field ."}
{"Code":"def remove site name ret {'name' name 'changes' {} 'result' None 'comment' ''}current sites salt ['win iis list sites'] if name not in current sites ret['comment'] ' Sitehasalreadybeenremoved {0 }' format name ret['result'] Trueelif opts ['test'] ret['comment'] ' Sitewillberemoved {0 }' format name ret['changes'] {'old' name 'new' None}else ret['comment'] ' Removedsite {0 }' format name ret['changes'] {'old' name 'new' None}ret['result'] salt ['win iis remove site'] name return ret","Text":"delete a website from iis ."}
{"Code":"def is namespace visible context namespace status None if context is admin return Trueif namespace['owner'] is None return Trueif 'visibility' in namespace if namespace['visibility'] 'public' return Trueif context owner is not None if context owner namespace['owner'] return Truereturn False","Text":"return true if the namespace is visible in this context ."}
{"Code":"def words count common True word list list COMMON WORDS if common else [] c len word list if count > c count - cwhile count > 0 c min count len WORDS count - cword list + random sample WORDS c else word list word list[ count]return '' join word list","Text":"returns a string of count lorem ipsum words separated by a single space ."}
{"Code":"def execute 5 *args **kargs cmd args[ 1 -3 ] if args[ 0 ] 'raidcom' else args result EXECUTE TABLE 5 get cmd CMD SUCCEED return result","Text":"return predefined results based on execute_table5 ."}
{"Code":"def set trace host 'localhost' port 6000 authkey 'secretpassword' init host port authkey qdb set trace","Text":"simplified interface to start debugging immediately ."}
{"Code":"def matrix tensor product *product if isinstance product[ 0 ] Matrix return sympy tensor product *product elif isinstance product[ 0 ] numpy ndarray return numpy tensor product *product elif isinstance product[ 0 ] scipy sparse matrix return scipy sparse tensor product *product","Text":"compute the matrix tensor product of sympy\/numpy\/scipy ."}
{"Code":"def dump js escaped json obj cls Edx JSON Encoder json string json dumps obj ensure ascii True cls cls json string escape json for js json string return json string","Text":"json dumps and escapes objects that are safe to be embedded in javascript ."}
{"Code":"def default environment return dict VARS","Text":"return copy of default pep 385 globals dictionary ."}
{"Code":"def pcapname dev if type dev is Network Interface if dev is invalid return Nonereturn dev pcap nametry return IFACES dev from name dev pcap nameexcept Value Error if conf use pcap return Noneraise","Text":"return pypcap device name for given interface or libdnet\/scapy device name ."}
{"Code":"def sphere constraint rd r0 R adj return R adj - np sqrt np sum rd - r0 ** 2","Text":"sphere fitting constraint ."}
{"Code":"def require initialized exception def decorator method @wraps method def wrapped method self *args **kwargs if not self initialized raise exceptionreturn method self *args **kwargs return wrapped methodreturn decorator","Text":"decorator for api methods that should only be called after tradingalgorithm ."}
{"Code":"def start name call None return query 'grid' 'server\/power' args {'name' name 'power' 'start'}","Text":"start a machine by name cli example: ."}
{"Code":"def throw msg exc Validation Error title None msgprint msg raise exception exc title title indicator u'red'","Text":"throw execption and show message ."}
{"Code":"def mkdtemp suffix '' prefix template dir None if dir is None dir gettempdir names get candidate names for seq in xrange TMP MAX name names next file os path join dir prefix + name + suffix try os mkdir file 448 return fileexcept OS Error as e if e errno errno EEXIST continueif os name 'nt' and e errno errno EACCES and os path isdir dir and os access dir os W OK continueraiseraise IO Error errno EEXIST ' Nousabletemporarydirectorynamefound'","Text":"user-callable function to create and return a unique temporary directory ."}
{"Code":"def make choices choices return list zip choices choices","Text":"zips a list with itself for field choices ."}
{"Code":"def status to ec 2 attach status volume volume status volume get 'status' attach status volume get 'attach status' if volume status in 'attaching' 'detaching' ec 2 attach status volume statuselif attach status in 'attached' 'detached' ec 2 attach status attach statuselse msg ' Unacceptableattachstatus %sforec 2 API ' % attach status raise exception Invalid msg return ec 2 attach status","Text":"get the corresponding ec2 attachment state ."}
{"Code":"def has change path cmd sql return u'setsearch path' in sql lower","Text":"determines if the search_path should be refreshed by checking if the sql has set search_path ."}
{"Code":"def origin from request request rv request META get 'HTTP ORIGIN' 'null' if rv in '' 'null' rv origin from url request META get 'HTTP REFERER' return rv","Text":"returns either the origin or referer value from the request headers ."}
{"Code":"@utils arg '--tenant' metavar '<tenant-id>' required True help 'I Doftenanttodeletequotafor ' @utils arg '--user' metavar '<user-id>' help 'I Dofusertodeletequotafor ' def do quota delete cs args cs quotas delete args tenant user id args user","Text":"delete quota for a tenant\/user so their quota will revert back to default ."}
{"Code":"def expand table table return np repeat [[ 1 1] [1 0] [0 1] [0 0]] table ravel axis 0","Text":"expand a 2 by 2 contingency table to observations ."}
{"Code":"def credential return s3 db hrm credential controller","Text":"restful crud controller - unfiltered version ."}
{"Code":"def random bucket name prefix 'awscli-s 3 integ-' num random 10 return prefix + random chars num random","Text":"generate a random s3 bucket name ."}
{"Code":"def soft unicode s if not isinstance s text type s text type s return s","Text":"make a string unicode if it isnt already ."}
{"Code":"def cert from key info key info ignore age False res []for x509 data in key info x509 data x509 certificate x509 data x509 certificatecert x509 certificate text strip cert '\\n' join split len '' join [s strip for s in cert split ] 64 if ignore age or active cert cert res append cert else logger info ' Inactivecert' return res","Text":"get all x509 certs from a keyinfo instance ."}
{"Code":"def image member find context image id None member None status None session get session members image member find context session image id member status return [ image member format m for m in members]","Text":"find all members that meet the given criteria ."}
{"Code":"def libvlc media player new p libvlc instance f Cfunctions get 'libvlc media player new' None or Cfunction 'libvlc media player new' 1 class result Media Player ctypes c void p Instance return f p libvlc instance","Text":"create an empty media player object ."}
{"Code":"def deprecated conditional predicate removal version entity description hint message None stacklevel 4 validate removal semver removal version if predicate warn or error removal version entity description hint message stacklevel stacklevel","Text":"marks a certain configuration as deprecated ."}
{"Code":"def reset drivers global driversdrivers None","Text":"used by unit tests to reset the drivers ."}
{"Code":"def end threads for t in thread Pool t my thread ended Truet join","Text":"this function must be called once when the gui shuts down ."}
{"Code":"def get occupied streams realm subs filter Subscription objects filter active True user profile realm realm user profile is active True values 'recipient id' stream ids Recipient objects filter type Recipient STREAM id in subs filter values 'type id' return Stream objects filter id in stream ids realm realm deactivated False","Text":"get streams with subscribers ."}
{"Code":"def random complex number a 2 b -1 c 3 d 1 rational False A B uniform a c uniform b d if not rational return A + I * B return nsimplify A rational True + I * nsimplify B rational True","Text":"return a random complex number ."}
{"Code":"def get ec 2 driver aws ec 2 get driver Provider EC 2 aws['access key'] aws['secret access token'] region aws['region'] return ec 2","Text":"get a libcloud ec2 driver given some credentials and other configuration ."}
{"Code":"def delete files for obj sender **kwargs obj kwargs pop 'instance' for field name in sender meta get all field names if not hasattr obj field name continuetry field class sender meta get field field name except models Field Does Not Exist continuefield value getattr obj field name if isinstance field class models File Field and field value field value delete","Text":"signal receiver of a model class and instance ."}
{"Code":"@taskdef setup ctx copy settings ctx addons True packages ctx requirements ctx addons True dev True build js config files ctx assets ctx dev True watch False","Text":"creates local settings ."}
{"Code":"@positional 1 def get package for module module if isinstance module basestring try module sys modules[module]except Key Error return Nonetry return unicode module package except Attribute Error if module name ' main ' try file name module file except Attribute Error passelse base name os path basename file name split name os path splitext base name if len split name 1 return unicode base name else return u' ' join split name[ -1 ] return unicode module name","Text":"get package name for a module ."}
{"Code":"def url 2 ip url iport urlsplit url [1 ] split ' ' if len iport > 1 return gethostbyname iport[ 0 ] iport[ 1 ] return gethostbyname iport[ 0 ]","Text":"works like turning URL => 180 ."}
